
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NEMtropy documentation &#8212; NEMtropy 1.0.5 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="How to install" href="install.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="install.html" title="How to install"
             accesskey="N">next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">NEMtropy 1.0.5 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">NEMtropy documentation</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="nemtropy-documentation">
<h1>NEMtropy documentation<a class="headerlink" href="#nemtropy-documentation" title="Permalink to this headline">¶</a></h1>
<p>NEMtropy is a Maximum-Entropy toolbox for networks, released as a
python3 module.</p>
<p>NEMtropy provides the user with a state of the art solver for a range
variety of Maximum Entropy Networks models derived from the ERGM family.
This module allows you to solve the desired model and generate a number
of randomized graphs from the original one: the so-called <em>graphs
ensemble</em>.</p>
<p>NEMtropy builds on the current literature on the matter, improving both
in speed of convergence and in the scale of the feasible networks. To
explore Maximum-Entropy modeling on networks, checkout <a class="reference external" href="https://meh.imtlucca.it/">Maximum Entropy
Hub</a>.</p>
<p>The models implemented in NEMtropy are presented in a forthcoming
<a class="reference external" href="https://arxiv.org/abs/2101.12625">paper</a> on arXiv. If you use the
module for your scientific research, please consider citing us:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@misc</span><span class="p">{</span><span class="n">vallarano2021fast</span><span class="p">,</span>
      <span class="n">title</span><span class="o">=</span><span class="p">{</span><span class="n">Fast</span> <span class="ow">and</span> <span class="n">scalable</span> <span class="n">likelihood</span> <span class="n">maximization</span> <span class="k">for</span> <span class="n">Exponential</span> <span class="n">Random</span> <span class="n">Graph</span> <span class="n">Models</span><span class="p">},</span>
      <span class="n">author</span><span class="o">=</span><span class="p">{</span><span class="n">Nicolò</span> <span class="n">Vallarano</span> <span class="ow">and</span> <span class="n">Matteo</span> <span class="n">Bruno</span> <span class="ow">and</span> <span class="n">Emiliano</span> <span class="n">Marchese</span> <span class="ow">and</span> <span class="n">Giuseppe</span> <span class="n">Trapani</span> <span class="ow">and</span> <span class="n">Fabio</span> <span class="n">Saracco</span> <span class="ow">and</span> <span class="n">Tiziano</span> <span class="n">Squartini</span> <span class="ow">and</span> <span class="n">Giulio</span> <span class="n">Cimini</span> <span class="ow">and</span> <span class="n">Mario</span> <span class="n">Zanon</span><span class="p">},</span>
      <span class="n">year</span><span class="o">=</span><span class="p">{</span><span class="mi">2021</span><span class="p">},</span>
      <span class="n">eprint</span><span class="o">=</span><span class="p">{</span><span class="mf">2101.12625</span><span class="p">},</span>
      <span class="n">archivePrefix</span><span class="o">=</span><span class="p">{</span><span class="n">arXiv</span><span class="p">},</span>
      <span class="n">primaryClass</span><span class="o">=</span><span class="p">{</span><span class="n">physics</span><span class="o">.</span><span class="n">data</span><span class="o">-</span><span class="n">an</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="currently-implemented-models">
<h1>Currently Implemented Models<a class="headerlink" href="#currently-implemented-models" title="Permalink to this headline">¶</a></h1>
<p>The main feature of NEMtropy is (but not limited to) <em>network
randomization</em>. The specific kind of network to randomize and property
to preserve defines the model you need:</p>
<ul class="simple">
<li><p><strong>UBCM</strong> <em>Undirected Binary Configuration Model</em> <a class="reference external" href="#1">[1]</a></p></li>
<li><p><strong>UECM</strong> <em>Undirected Enhanced Configuration Model</em> <a class="reference external" href="#1">[1]</a></p></li>
<li><p><strong>DBCM</strong> <em>Directed Binary Configuration Model</em> <a class="reference external" href="#1">[1]</a></p></li>
<li><p><strong>DECM</strong> <em>Directed Enhanced Configuration Model</em> <a class="reference external" href="#1">[1]</a></p></li>
<li><p><strong>CReMa</strong> <a class="reference external" href="#2">[2]</a></p></li>
</ul>
<p>The following table may helps you identify the model that fits your
needs in function of the type of network you are working with; for
in-depth discussion please see the references.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 33%" />
<col style="width: 31%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>[…]</p></th>
<th class="head"><p>Undirected Graph</p></th>
<th class="head"><p>Directed Graph</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Binary Graph</strong></p></td>
<td><p><em>UBCM</em></p></td>
<td><p><em>DBCM</em></p></td>
</tr>
<tr class="row-odd"><td><p><strong>Weighted Graph</strong></p></td>
<td><p><em>UECM</em>, <em>CReMa</em></p></td>
<td><p><em>DECM</em>, <em>CReMa</em></p></td>
</tr>
</tbody>
</table>
<p><em>References</em></p>
<ul class="simple">
<li><p>[1] Squartini, Tiziano, Rossana Mastrandrea, and Diego Garlaschelli.
“Unbiased sampling of network ensembles.” New Journal of Physics 17.2
(2015): 023052. <a class="reference external" href="https://arxiv.org/abs/1406.1197">https://arxiv.org/abs/1406.1197</a></p></li>
<li><p>[2] Parisi, Federica, Tiziano Squartini, and Diego Garlaschelli. “A
faster horse on a safer trail: generalized inference for the
efficient reconstruction of weighted networks.” New Journal of
Physics 22.5 (2020): 053053. <a class="reference external" href="https://arxiv.org/abs/1811.09829">https://arxiv.org/abs/1811.09829</a></p></li>
</ul>
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>NEMtropy can be installed via pip. You can get it from your terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install NEMtropy
</pre></div>
</div>
<p>If you already install the package and wish to upgrade it, you can
simply type from your terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install NEMtropy --upgrade
</pre></div>
</div>
</div>
<div class="section" id="dependencies">
<h1>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h1>
<p>NEMtropy uses &lt;code&gt;numba&lt;/code&gt; and &lt;code&gt;powerlaw&lt;/code&gt; libraries.
They can be installed via pip by running in your terminal the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install numba
$ pip install powerlaw
</pre></div>
</div>
<p>For python3.5 users the correct command is the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install --prefer-binary numba
</pre></div>
</div>
<p>It avoids an error during the installation of llvmlite due to the
absence of its wheel in python3.5.</p>
</div>
<div class="section" id="simple-example">
<h1>Simple Example<a class="headerlink" href="#simple-example" title="Permalink to this headline">¶</a></h1>
<p>As an example we solve the UBCM for zachary karate club network.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">from</span> <span class="nn">NEMtropy</span> <span class="kn">import</span> <span class="n">UndirectedGraph</span>

<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">karate_club_graph</span><span class="p">()</span>
<span class="n">adj_kar</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">to_numpy_array</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">UndirectedGraph</span><span class="p">(</span><span class="n">adj_kar</span><span class="p">)</span>

<span class="n">graph</span><span class="o">.</span><span class="n">solve_tool</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;cm_exp&quot;</span><span class="p">,</span>
             <span class="n">method</span><span class="o">=</span><span class="s2">&quot;newton&quot;</span><span class="p">,</span>
             <span class="n">initial_guess</span><span class="o">=</span><span class="s2">&quot;random&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Given the UBCM model, we can generate ten random copies of zachary’s
karate club.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">graph</span><span class="o">.</span><span class="n">ensemble_sampler</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">cpu_n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">output_dir</span><span class="o">=</span><span class="s2">&quot;sample/&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>These copies are saved as an edgelist, each edgelist can be converted to
an adjacency matrix by running the NEMtropy build graph function.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">NEMtropy.network_functions</span> <span class="kn">import</span> <span class="n">build_graph_from_edgelist</span>

<span class="n">edgelist_ens</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">&quot;sample/0.txt&quot;</span><span class="p">)</span>
<span class="n">ens_adj</span> <span class="o">=</span> <span class="n">build_graph_from_edgelist</span><span class="p">(</span><span class="n">edgelist</span> <span class="o">=</span> <span class="n">edgelist_ens</span><span class="p">,</span>
                                <span class="n">is_directed</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                                <span class="n">is_sparse</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                                <span class="n">is_weighted</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>These collection of random adjacency matrices can be used as a null
model: it is enough to compute the expected value of the selected
network feature on the ensemble of matrices and to compare it with its
original value.</p>
<p>To learn more, please read the two ipython notebooks in the examples
directory: one is a study case on a <a class="reference external" href="https://github.com/nicoloval/NEMtropy/blob/master/examples/Directed%20Graphs.ipynb">directed
graph</a>,
while the other is on an <a class="reference external" href="https://github.com/nicoloval/NEMtropy/blob/master/examples/Undirected%20Graphs.ipynb">undirected
graph</a>.</p>
</div>
<div class="section" id="development">
<h1>Development<a class="headerlink" href="#development" title="Permalink to this headline">¶</a></h1>
<p>Please work on a feature branch and create a pull request to the
development branch. If necessary to merge manually do so without fast
forward:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git merge --no-ff myfeature
</pre></div>
</div>
<p>To build a development environment run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python3 -m venv venv
$ source venv/bin/activate
$ pip install -e &#39;.[dev]&#39;
</pre></div>
</div>
</div>
<div class="section" id="testing">
<h1>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h1>
<p>If you want to test the package integrity, you can run the following
bash command from the tests directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ bash run_all.sh
</pre></div>
</div>
<p><strong>P.S.</strong> <em>at the moment there may be some problems with the DECM solver
functions</em></p>
<div class="section" id="guide">
<h2>Guide<a class="headerlink" href="#guide" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">How to install</a></li>
<li class="toctree-l1"><a class="reference internal" href="NEMtropy.html">Classes and Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="NEMtropy.html#module-NEMtropy.graph_classes">Graph classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="NEMtropy.html#module-NEMtropy.ensemble_generator">Ensemble generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="NEMtropy.html#module-NEMtropy.matrix_generator">Matrix generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="NEMtropy.html#module-NEMtropy.models_functions">Model specific functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="NEMtropy.html#module-NEMtropy.solver_functions">Solver functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="NEMtropy.html#module-NEMtropy.network_functions">Network functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">GNU GENERAL PUBLIC LICENSE</a></li>
<li class="toctree-l1"><a class="reference internal" href="contacts.html">Contacts</a></li>
</ul>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">NEMtropy documentation</a></li>
<li><a class="reference internal" href="#currently-implemented-models">Currently Implemented Models</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#simple-example">Simple Example</a></li>
<li><a class="reference internal" href="#development">Development</a></li>
<li><a class="reference internal" href="#testing">Testing</a><ul>
<li><a class="reference internal" href="#guide">Guide</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="install.html"
                        title="next chapter">How to install</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="install.html" title="How to install"
             >next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">NEMtropy 1.0.5 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">NEMtropy documentation</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Emiliano Marchese and Nicolo&#39; Vallarano.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.4.3.
    </div>
  </body>
</html>